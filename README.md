# OAS generated server

## Overview
This is a Partition Problem API for stress analysis and benchmarking. 

This server was generated by the [oas-generator](https://github.com/isa-group/oas-generator) project. You can get more info about the np-complete Partition Problem in [this link](https://en.wikipedia.org/wiki/Partition_problem)

### Running the API using docker

If you have docker, you can use it out of the box: `docker run -p 12345:80 -d joseanteugfer/partition-problem-api` to run the container at port `12345`

### Running the server
To run the server, run:

```
npm install 
npm start
```
Then, if running in localhost, you can check the swagger UI doc portal in: `http://localhost:8080/`

### Using the API

#### Stress request

- `GET /api/v1/stress/10000/10` would generate and solve a Partition problem with 10000 integers (each of them with a random value up to 10).

will get:
```json
{
  "problem": "Partition Problem",
  "parameters": [
    {
      "id": "integNumber",
      "value": 10000
    },
    {
      "id": "maxInt",
      "value": 10
    }
  ],
  "info": {
    "initialMemory": 16.654,
    "heapStats": {
      "total_heap_size": 22.613,
      "total_heap_size_executable": 2.5,
      "total_physical_size": 19.226,
      "total_available_size": 1437.686,
      "used_heap_size": 16.657,
      "heap_size_limit": 1456.175,
      "malloced_memory": 0.008,
      "peak_malloced_memory": 2.717,
      "does_zap_garbage": 0
    }
  },
  "result": {
    "stages": [
      {
        "id": "problemGeneration",
        "duration": 4.687,
        "memory": 0.647
      },
      {
        "id": "problemSolving",
        "duration": 81.287,
        "memory": -0.41
      }
    ],
    "total": {
      "duration": 87.729,
      "memory": 0.237
    }
  }
}
```

#### Partition problem solving

In order to solve a given partition problem you should send a POST to `/api/v1/problems` endpoint: 

`POST /api/v1/problems`
```json
{
    "id": "PartitionProblem",
    "problem": {
        "idProblem": "identificadorProblema",
        "listInt": [1, 2, 3, 4]
    }
}
```
will get: 
```json
{
  "id": "PartitionProblem",
    "problem": {
        "idProblem": "identificadorProblema",
        "items": [1, 2, 3, 4]
    },
    "solution": {
    "conjunto1": [3,2],
    "conjunto2": [4,1],
    "suma1": 5,
    "suma2": 5,
    "stats": {
      "solvingTime": 0.26975799560546876
    }
  }
}
```
